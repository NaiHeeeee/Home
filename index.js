var xhr=new XMLHttpRequest,theme="random",Darktheme="random";xhr.open("GET","./style/material-color.json",!0),xhr.onload=function(){if(200===xhr.status){var t=JSON.parse(xhr.responseText);if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(theme=Darktheme),"random"==theme)var e=Object.keys(t),s=t[e[Math.floor(Math.random()*e.length)]];else s=t[theme];var o=s.primary,r=s.secondary,i=s.card,a=s.bg,n=s["bg-darken"],c=s.bgs,l=s.bgfont,h=s.font1,u=s.font2,d=s.bga;s.light;if(console.log("primary: "+o),console.log("secondary: "+r),console.log("card: "+i),console.log("bg: "+a),console.log("bgs: "+c),console.log("bg-darken: "+n),console.log("bgfont: "+l),console.log("font1: "+h),console.log("font2: "+u),console.log("bga: "+d),"#000000"==r&&(r=a),"default"!=theme){document.querySelectorAll(".bg-hex-EDEFE3").forEach((t=>{t.style.backgroundColor=o}));document.querySelectorAll(".bg-hex-FCF9EF").forEach((t=>{t.style.backgroundColor=r}));document.querySelectorAll(".bg-hex-F6F3D4").forEach((t=>{t.style.backgroundColor=i}));document.querySelectorAll(".bg-hex-D9EAD7").forEach((t=>{t.style.backgroundColor=a}));document.querySelectorAll(".bg-hex-383934").forEach((t=>{t.style.backgroundColor=c}));document.querySelectorAll(".text-hex-363C33").forEach((t=>{t.style.color=l}));document.querySelectorAll(".text-hex-fff").forEach((t=>{t.style.color=u}));document.querySelectorAll(".text-opacity-50").forEach((t=>{const e=u+"80";t.style.color=e}));document.querySelectorAll(".text-hex-000").forEach((t=>{t.style.color=h}));document.querySelectorAll(".font-bold").forEach((t=>{t.style.color=u}));document.querySelectorAll(".opacity-70").forEach((t=>{const e=h+"B3";t.style.color=e}));document.querySelectorAll(".bg-hex-1A1D1A").forEach((t=>{t.style.backgroundColor=d}));document.querySelectorAll(".beian").forEach((t=>{t.style.color=h+"B3"}));document.querySelectorAll(".icon path").forEach((t=>{t.setAttribute("fill",h)}))}}},xhr.send();class ToastManager{constructor(){this.toast=null,this.currentMessage=null,this.isAnimating=!1,this.timeoutId=null}showToast(t){this.currentMessage===t&&this.isAnimating||(this.currentMessage=t,this.isAnimating&&this.toast?this.toast.textContent=t:(this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.toast&&this.toast.remove(),this.toast=document.createElement("div"),this.toast.id="custom-toast",this.toast.textContent=t,this.toast.style.position="fixed",this.toast.style.top="-50px",this.toast.style.left="50%",this.toast.style.transform="translateX(-50%)",this.toast.style.background="rgba(0, 0, 0, 0.5)",this.toast.style.color="#fff",this.toast.style.padding="12px 24px",this.toast.style.borderRadius="30px",this.toast.style.fontSize="13px",this.toast.style.zIndex="9999",this.toast.style.boxShadow="0px 4px 10px rgba(0, 0, 0, 0.3)",this.toast.style.opacity="0",this.toast.style.transition="top 0.3s ease-out, opacity 0.5s ease-out",document.body.appendChild(this.toast),this.isAnimating=!0,setTimeout((()=>{this.toast.style.top="20px",this.toast.style.opacity="1"}),10),this.timeoutId=setTimeout((()=>{this.toast.style.top="-50px",this.toast.style.opacity="0",this.timeoutId=setTimeout((()=>{this.toast&&(this.toast.remove(),this.toast=null),this.isAnimating=!1,this.currentMessage=null}),500)}),2e3)))}}const toastManager=new ToastManager;var CURSOR;document.addEventListener("contextmenu",(function(t){t.preventDefault(),toastManager.showToast("⚠ 右键功能已被禁用！")})),document.addEventListener("keydown",(function(t){t.ctrlKey&&"c"===t.key&&(t.preventDefault(),toastManager.showToast("⚠ Ctrl + C 复制功能已被禁用！"))})),document.addEventListener("copy",(function(t){t.preventDefault(),toastManager.showToast("⚠ 复制功能已被禁用！")})),Math.lerp=(t,e,s)=>(1-s)*t+s*e;const getStyle=(t,e)=>{try{return window.getComputedStyle?window.getComputedStyle(t)[e]:t.currentStyle[e]}catch(t){}return""};class Cursor{constructor(){this.pos={curr:null,prev:null},this.pt=[],this.create(),this.init(),this.render()}move(t,e){this.cursor.style.left=`${t}px`,this.cursor.style.top=`${e}px`}create(){this.cursor||(this.cursor=document.createElement("div"),this.cursor.id="cursor",this.cursor.classList.add("hidden"),document.body.append(this.cursor));var t=document.getElementsByTagName("*");for(let e=0;e<t.length;e++)"pointer"==getStyle(t[e],"cursor")&&this.pt.push(t[e].outerHTML);document.body.appendChild(this.scr=document.createElement("style")),this.scr.innerHTML="* {cursor: url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8' width='8px' height='8px'><circle cx='4' cy='4' r='4' opacity='.5'/></svg>\") 4 4, auto}"}refresh(){this.scr.remove(),this.cursor.classList.remove("hover"),this.cursor.classList.remove("active"),this.pos={curr:null,prev:null},this.pt=[],this.create(),this.init(),this.render()}init(){document.onmouseover=t=>{if(this.pt.includes(t.target.outerHTML))return void this.cursor.classList.add("hover");if(t.target.hasAttribute&&t.target.hasAttribute("href"))return void this.cursor.classList.add("hover");t.target.closest("a[href]")&&this.cursor.classList.add("hover")},document.onmouseout=t=>{if(this.pt.includes(t.target.outerHTML))return void this.cursor.classList.remove("hover");if(t.target.hasAttribute&&t.target.hasAttribute("href"))return void this.cursor.classList.remove("hover");t.target.closest("a[href]")&&this.cursor.classList.remove("hover")},document.onmousemove=t=>{null==this.pos.curr&&this.move(t.clientX-8,t.clientY-8),this.pos.curr={x:t.clientX-8,y:t.clientY-8},this.cursor.classList.remove("hidden")},document.onmouseenter=t=>this.cursor.classList.remove("hidden"),document.onmouseleave=t=>this.cursor.classList.add("hidden"),document.onmousedown=t=>this.cursor.classList.add("active"),document.onmouseup=t=>this.cursor.classList.remove("active")}render(){this.pos.prev?(this.pos.prev.x=Math.lerp(this.pos.prev.x,this.pos.curr.x,.15),this.pos.prev.y=Math.lerp(this.pos.prev.y,this.pos.curr.y,.15),this.move(this.pos.prev.x,this.pos.prev.y)):this.pos.prev=this.pos.curr,requestAnimationFrame((()=>this.render()))}}CURSOR=new Cursor,document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector("header svg");t&&(t.addEventListener("mouseenter",(function(){this.classList.remove("rotate-counterclockwise"),this.offsetWidth,this.classList.add("rotate-clockwise")})),t.addEventListener("mouseleave",(function(){this.classList.remove("rotate-clockwise"),this.offsetWidth,this.classList.add("rotate-counterclockwise")})))})),document.addEventListener("DOMContentLoaded",(function(){document.getElementById("current-year").textContent=(new Date).getFullYear()}));